title: Figma Enhancements
rules:
  - description: 'Figma: Mouse button4 → Go up one layer (⇧ + ⏎)'
    manipulators:
      - from:
          pointing_button: button4
          modifiers:
            mandatory:
              - left_shift
        to:
          - key_code: return_or_enter
            modifiers: shift
        type: basic
  - description: 'Figma: Mouse button5 → Go down one layer [⏎]'
    manipulators:
      - from:
          pointing_button: button5
          modifiers:
            mandatory:
              - left_shift
        to:
          - key_code: return_or_enter
        type: basic

  - description: 'Figma: ⌃ + D → delete_forward'
    manipulators:
      - conditions:
          - type: frontmost_application_if
            bundle_identifiers:
              - com.figma.Desktop
        from:
          key_code: d
          modifiers:
            mandatory:
              - left_control
        to:
          - key_code: delete_forward
        type: basic

  # Fix forward delete when editing text
  - description: 'Figma: right ⌃ + D →  Design panel'
    manipulators:
      - conditions:
          - bundle_identifiers:
              - com.figma.Desktop
            type: frontmost_application_if
        from:
          key_code: d
          modifiers:
            mandatory:
              - right_control
        to:
          - key_code: "8"
            modifiers:
              - left_option
        type: basic

  # Left-hand convenience keys
  - description: 'Figma: right ⌃ + T →  protoType panel'
    manipulators:
      - conditions:
          - bundle_identifiers:
              - com.figma.Desktop
            type: frontmost_application_if
        from:
          key_code: t
          modifiers:
            mandatory:
              - right_control
        to:
          - key_code: "9"
            modifiers:
              - left_option
        type: basic

  - description: 'Figma: right ⌃ + C →  Components panel'
    manipulators:
      - conditions:
          - bundle_identifiers:
              - com.figma.Desktop
            type: frontmost_application_if
        from:
          key_code: c
          modifiers:
            mandatory:
              - right_control
        to:
          - key_code: i
            modifiers:
              - shift
        type: basic
